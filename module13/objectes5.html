<!DOCTYPE html>
<html>
<head>
    <style>
        pre {
            margin-left: -35px;
        }
    </style>
</head>
<body>

    <h1>JavaScript ES5 Object Methods</h1>

    <p>ECMAScript 5 added a lot of new Object Methods to JavaScript.</p>

    <h2>Changing a Property Value</h2>

    <h4>Syntax</h4>

    <p style="font-family: courier;">Object.defineProperty(object, property, {value : value})</p>

    <p>This example changes a property value:</p>

    <p id="demo"></p>

    <script>
        // Create an object:
        var person = {
        firstName: "John",
        lastName : "Doe",
        language : "EN" 
        };
        // Change a property
        Object.defineProperty(person, "language", {value:"NO"})
        document.getElementById("demo").innerHTML = person.language;
    </script>

    <h2>Changing Meta Data</h2>

    <p>ES5 allows the following property meta data to be changed:</p>

    <pre style="font-family: courier;">
    writable : true      // Property value can be changed
    enumerable : true    // Property can be enumerated
    configurable : true  // Property can be reconfigured
    </pre>

    <pre style="font-family: courier;">
    writable : false     // Property value can not be changed
    enumerable : false   // Property can be not enumerated
    configurable : false // Property can be not reconfigured
    </pre>

    <p>ES5 allows getters and setters to be changed:</p>

    <pre style="font-family: courier;">
    // Defining a getter
    get: function() { return language }
    // Defining a setter
    set: function(value) { language = value }
    </pre>

    <p>This example makes language read-only:</p>

    <p style="font-family: courier;">Object.defineProperty(person, "language", {writable:false});</p>

    <p>This example makes language not enumerable:</p>
    
    <p style="font-family: courier;">Object.defineProperty(person, "language", {enumerable:false});</p>

    <h2>Listing All Properties</h2>

    <p>This example list all properties of an object:</p>

    <p id="demo2"></p>

    <script>
        // Create an object:
        var person2 = {
        firstName: "John",
        lastName : "Doe",
        language : "EN"
        }
        // Change Property
        Object.defineProperty(person2, "language", {enumerable:false});
        // Display Properties
        document.getElementById("demo2").innerHTML = Object.getOwnPropertyNames(person2);
    </script>

    <h2>Listing Enumerable Properties</h2>

    <p>This example list only the enumerable properties of an object:</p>

    <p id="demo3"></p>

    <script>
        // Create an object:
        var person3 = {
        firstName: "John",
        lastName : "Doe",
        language : "EN"
        }
        // Change Property
        Object.defineProperty(person3, "language", {enumerable:false});
        // Display Properties
        document.getElementById("demo3").innerHTML = Object.keys(person3);
    </script>

    <h2>Adding a Property</h2>

    <p>This example adds a new property to an object:</p>

    <p id="demo4"></p>

    <script>
        // Create an object:
        var person4 = {
        firstName: "John",
        lastName : "Doe",
        language : "EN"
        };
        // Add a property
        Object.defineProperty(person4, "year", {value:"2008"})
        document.getElementById("demo4").innerHTML = person4.year;
    </script>

    <h2>Adding Getters and Setters</h2>

    <p>The Object.defineProperty() method can also be used to add Getters and Setters:</p>

    <p id="demo5"></p>

    <script>
        // Create an object:
        var person5 = {firstName:"John", lastName:"Doe"};

        // Define a getter
        Object.defineProperty(person5, "fullName", {
        get : function () {return this.firstName + " " + this.lastName;}
        });

        // Display full name
        document.getElementById("demo5").innerHTML = person5.fullName;
    </script>

    <h2>A Counter Example</h2>

    <p id="demo6"></p>

    <script>
        // Define an object
        var obj = {counter:0};

        // Define Setters and Getters
        Object.defineProperty(obj, "reset", {
        get : function () {this.counter = 0;}
        });
        Object.defineProperty(obj, "increment", {
        get : function () {this.counter++;}
        });
        Object.defineProperty(obj, "decrement", {
        get : function () {this.counter--;}
        });
        Object.defineProperty(obj, "add", {
        set : function (value) {this.counter += value;}
        });
        Object.defineProperty(obj, "subtract", {
        set : function (value) {this.counter -= value;}
        });

        // Play with counter:
        obj.reset;
        obj.add = 5;
        obj.subtract = 1;
        obj.increment;
        obj.decrement;
        document.getElementById("demo6").innerHTML = obj.counter;
    </script>

</body>
</html>