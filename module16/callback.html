<!DOCTYPE html>
<html>
<body>

    <h1>JavaScript Callbacks</h1>

    <p style="background-color: lightseagreen; width: 500px;">A callback is a function passed as an argument to another function<br>
    This technique allows a function to call another function<br>
    A callback function can run after another function has finished</p>

    <h2>Function Sequence</h2>

    <p>JavaScript functions are executed in the sequence they are called. Not in the sequence they are defined.</p>
    <p>This example will end up displaying "Goodbye":</p>

    <p id="demo"></p>

    <script>
        function myDisplayer(some) {
        document.getElementById("demo").innerHTML = some;
        }

        function myFirst() {
        myDisplayer("Hello");
        }

        function mySecond() {
        myDisplayer("Goodbye");
        }

        myFirst();
        mySecond();
    </script>

    <p>This example will end up displaying "Hello":</p>

    <p id="demo2"></p>

    <script>
        function myDisplayer2(some) {
        document.getElementById("demo2").innerHTML = some;
        }

        function myFirst2() {
        myDisplayer2("Hello");
        }

        function mySecond2() {
        myDisplayer2("Goodbye");
        }

        mySecond2();
        myFirst2();
    </script>

    <h2>Sequence Control</h2>

    <p>Sometimes you would like to have better control over when to execute a function.</p>
    <p>Suppose you want to do a calculation, and then display the result.</p>
    <p>You could call a calculator function (myCalculator), save the result, and then call another function (myDisplayer) to display the result:</p>

    <p id="demo3"></p>

    <script>
        function myDisplayer3(some) {
        document.getElementById("demo3").innerHTML = some;
        }

        function myCalculator3(num1, num2) {
        let sum = num1 + num2;
        return sum;
        }

        let result3 = myCalculator3(5, 5);
        myDisplayer3(result3);
    </script>

    <p>Or, you could call a calculator function (myCalculator), and let the calculator function call the display function (myDisplayer):</p>

    <p id="demo4"></p>

    <script>
        function myDisplayer4(some) {
        document.getElementById("demo4").innerHTML = some;
        }

        function myCalculator4(num1, num2) {
        let sum = num1 + num2;
        myDisplayer4(sum);
        }

        myCalculator4(5, 5);
    </script>

    <p>The problem with the first example above, is that you have to call two functions to display the result.</p>
    <p>The problem with the second example, is that you cannot prevent the calculator function from displaying the result.</p>
    <p>Now it is time to bring in a callback.</p>

    <h2>JavaScript Callbacks</h2>

    <p style="background-color: yellow; width: 500px;">A callback is a function passed as an argument to another function.</p>

    <p>Using a callback, you could call the calculator function (myCalculator) with a callback, and let the calculator function run the callback after the calculation is finished:</p>

    <p id="demo5"></p>

    <script>
        function myDisplayer5(some) {
        document.getElementById("demo5").innerHTML = some;
        }

        function myCalculator5(num1, num2, myCallback) {
        let sum = num1 + num2;
        myCallback(sum);
        }

        myCalculator5(5, 5, myDisplayer5);
    </script>

    <p>In the example above, myDisplayer is the name of a function.</p>
    <p>It is passed to myCalculator() as an argument.</p>

    <p style="background-color: yellow; width: 500px;">When you pass a function as an argument, remember not to use parenthesis.</p>

    <h2>When to Use a Callback?</h2>

    <p>This examples are simplified to teach you the callback syntax.</p>
    <p>Where callbacks really shine are in asynchronous functions, where one function has to wait for another function (like waiting for a file to load).</p>
    
</body>
</html>