<!DOCTYPE html>
<html>
<head>
    <style>
        #this li {
            border-bottom: 1px solid #bbb;
            margin: 4px
        }
    </style>
</head>
<body>

    <h1>The JavaScript <i>this</i> Keyword</h1>

    <h2>What is <b>this</b>?</h2>

    <p>The JavaScript this keyword refers to the object it belongs to.</p>

    <div id="this" style="background-color: rgba(255, 245, 187, 0.986); width: 500px;">
        <p>It has different values depending on where it is used:</p>
        <ul style="list-style-type: none">
            <li>In a method, this refers to the owner object.</li>
            <li>Alone, this refers to the global object.</li>
            <li>In a function, this refers to the global object.</li>
            <li>In a function, in strict mode, this is undefined.</li>
            <li>In an event, this refers to the element that received the event.</li>
            <li>Methods like call(), and apply() can refer this to any object.</li>
        </ul>
    </div>

    <h2><b>this</b> in a Method</h2>

    <p>In an object method, this refers to the "owner" of the method.</p>

    <p>In this example, <b>this</b> represents the <b>person</b> object.</p>
    <p>Because the person object "owns" the fullName method.</p>

    <p id="demo"></p>

    <script>
        // Create an object:
        var person = {
        firstName: "John",
        lastName : "Doe",
        id     : 5566,
        fullName : function() {
            return this.firstName + " " + this.lastName;
        }
        };

        // Display data from the object:
        document.getElementById("demo").innerHTML = person.fullName();
    </script>

    <h2><b>this</b> Alone</h2>

    <p>When used alone, the <b>owner</b> is the Global object, so this refers to the Global object.</p>
    <p>In a browser window the Global object is [object Window]:</p>

    <p>In this example, <b>this</b> refers to the window Object:</p>

    <p id="demo2"></p>

    <script>
        var x = this;
        document.getElementById("demo2").innerHTML = x;
    </script>

    <p> In <b>strict mode</b>, when used alone, this also refers to the Global object [object Window]:</p>

    <p id="demo3"></p>

    <script>
        "use strict";
        var x2 = this;
        document.getElementById("demo3").innerHTML = x2;
    </script>

    <h2><b>this</b> in a Function (Default)</h2>

    <p>In a JavaScript function, the owner of the function is the <b>default</b> binding for this.</p>

    <p>So, in a function, this refers to the Global object [object Window].</p>

    <p id="demo4"></p>

    <script>
        document.getElementById("demo4").innerHTML = myFunction();
        function myFunction() {
        return this;
        }
    </script>

    <h2><b>this</b> in a Function (Strict)</h2>

    <p>JavaScript <b>strict mode</b> does not allow default binding.</p>

    <p>So, when used in a function, in strict mode, this is undefined.</p>

    <p id="demo5"></p>

    <script>
        "use strict";
        document.getElementById("demo5").innerHTML = myFunction2();
        function myFunction2() {
        return this;
        }
    </script>

    <h2><b>this</b> in Event Handlers</h2>

    <p>In HTML event handlers, this refers to the HTML element that received the event:</p>

    <button onclick="this.style.display='none'">Click to Remove Me!</button>

    <h2>Object Method Binding</h2>

    <p>In these examples, this is the <b>person</b> object (The person object is the "owner" of the function):</p>

    <p id="demo6"></p>

    <script>
        // Create an object:
        var person = {
        firstName  : "John",
        lastName   : "Doe",
        id     : 5566,
        myFunction : function() {
            return this;
        }
        };

        // Display data from the object:
        document.getElementById("demo6").innerHTML = person.myFunction();
    </script>

    <p id="demo7"></p>

    <script>
        // Create an object:
        var person = {
        firstName: "John",
        lastName : "Doe",
        id     : 5566,
        fullName : function() {
            return this.firstName + " " + this.lastName;
        }
        };

        // Display data from the object:
        document.getElementById("demo7").innerHTML = person.fullName();
    </script>

    <p>In other words: <b>this.firstName</b> means the <b>firstName</b> property of <b>this</b> (person) object.</p>

    <h2>Explicit Function Binding</h2>

    <p>The call() and apply() methods are predefined JavaScript methods.</p>
    <p>They can both be used to call an object method with another object as argument.</p>

    <p>In the example below, when calling person1.fullName with person2 as argument, this will refer to person2, even if it is a method of person1:</p>

    <p id="demo8"></p>

    <script>
        var person1 = {
        fullName: function() {
            return this.firstName + " " + this.lastName;
        }
        }
        var person2 = {
        firstName:"John",
        lastName: "Doe",
        }
        var x = person1.fullName.call(person2); 
        document.getElementById("demo8").innerHTML = x; 
    </script>

</body>
</html>