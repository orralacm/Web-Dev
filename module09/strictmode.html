<!DOCTYPE html>
<html>
<body>

    <h1>JavaScript Use Strict</h1>

    <p>"use strict"; Defines that JavaScript code should be executed in "strict mode".</p>

    <h2>The "use strict" Directive</h2>

    <p>The "use strict" directive was new in ECMAScript version 5.</p>
    <p>It is not a statement, but a literal expression, ignored by earlier versions of JavaScript.</p>
    <p>The purpose of "use strict" is to indicate that the code should be executed in "strict mode".</p>
    <p>With strict mode, you can not, for example, use undeclared variables.</p>

    <p style="background-color: yellow; width: 500px;">You can use strict mode in all your programs. It helps you to write cleaner code, like preventing you from using undeclared variables.<br><br>
    "use strict" is just a string, so IE 9 will not throw an error even if it does not understand it.</p>

    <h2>Declaring Strict Mode</h2>

    <p>Strict mode is declared by adding "use strict"; to the beginning of a script or a function.</p>
    <p>Declared at the beginning of a script, it has global scope (all code in the script will execute in strict mode):</p>

    <p>Using a variable without declaring it, is not allowed.</p>

    <p>Activate debugging in your browser (F12) to see the error report.</p>

    <script>
        "use strict";
        x = 3.14;  // This will cause an error (x is not defined).
    </script>

    <script>
        "use strict";
        myFunction();
        
        function myFunction() {
        y = 3.14;   // This will cause an error (y is not defined)
        }
    </script>

    <p>Declared inside a function, it has local scope (only the code inside the function is in strict mode):</p>

    <script>
        xa = 3.14;    // This will not cause an error.
        myFunction();
        
        function myFunction() {
          "use strict";
          ya = 3.14;  // This will cause an error (y is not defined).
        }
    </script>

    <h2>The "use strict"; Syntax</h2>

    <p>The syntax, for declaring strict mode, was designed to be compatible with older versions of JavaScript.</p>
    <p>Compiling a numeric literal (4 + 5;) or a string literal ("John Doe";) in a JavaScript program has no side effects. It simply compiles to a non existing variable and dies.</p>
    <p>So "use strict"; only matters to new compilers that "understand" the meaning of it.</p>

    <h2>Why Strict Mode?</h2>

    <p>Strict mode makes it easier to write "secure" JavaScript.</p>
    <p>Strict mode changes previously accepted "bad syntax" into real errors.</p>
    <p>As an example, in normal JavaScript, mistyping a variable name creates a new global variable. In strict mode, this will throw an error, making it impossible to accidentally create a global variable.</p>
    <p>In normal JavaScript, a developer will not receive any error feedback assigning values to non-writable properties.</p>
    <p>In strict mode, any assignment to a non-writable property, a getter-only property, a non-existing property, a non-existing variable, or a non-existing object, will throw an error.</p>

    <h2>Not Allowed in Strict Mode</h2>

    <p>Using a variable, without declaring it, is not allowed:</p>

    <script>
        "use strict";
        xb = 3.14;  // This will cause an error (x is not defined).
    </script>

    <p style="background-color: yellow; width: 500px;">Objects are variables too.</p>

    <p>Using an object, without declaring it, is not allowed:</p>

    <script>
        "use strict";
        xc = {p1:10, p2:20};   // This will cause an error (x is not defined).
    </script>

    <p>Deleting a variable (or object) is not allowed.</p>

    <script>
        "use strict";
        var xd = 3.14;
        delete xd;     // This will cause an error 
    </script>

    <p>Deleting a function is not allowed.</p>

    <script>
        "use strict";
        function xe(p1, p2) {}; 
        delete xe;        // This will cause an error 
    </script>

    <p>Duplicating a parameter name is not allowed:</p>

    <script>
        "use strict";
        function xf(p1, p1) {};   // This will cause an error 
    </script>

    <p>Octal numeric literals are not allowed:</p>

    <script>
        "use strict";
        var xg = 010;   // This will cause an error 
    </script>

    <p>Octal escape characters are not allowed:</p>

    <script>
        "use strict";
        var xh = "\010";   // This will cause an error 
    </script>

    <p>Writing to a read-only property is not allowed:</p>

    <script>
        "use strict";
        var obj = {};
        Object.defineProperty(obj, "x", {value:0, writable:false});
        
        obj.x = 3.14;   // This will cause an error
    </script>

    <p>Writing to a get-only property is not allowed:</p>

    <script>
        "use strict";
        var obj2 = {get x() {return 0} };
        
        obj.x = 3.14;   // This will cause an error
    </script>

    <p>Deleting an undeletable property is not allowed:</p>

    <script>
        "use strict";
        delete Object.prototype;   // This will cause an error 
    </script>

    <p>The word eval cannot be used as a variable:</p>

    <script>
        "use strict";
        var eval = 3.14;   // This will cause an error 
    </script>

    <p>The word arguments cannot be used as a variable:</p>

    <script>
        "use strict";
        var arguments = 3.14;   // This will cause an error 
    </script>

    <p>The with statement is not allowed:</p>

    <script>
        "use strict";
        with (Math){x = cos(2)};   // This will cause an error 
    </script>

    <p>For security reasons, eval() is not allowed to create variables in the scope from which it was called:</p>

    <script>
        "use strict";
        eval ("var x = 2");
        alert (x);      // This will cause an error 
    </script>

    <p>The this keyword in functions behaves differently in strict mode.</p>
    <p>The this keyword refers to the object that called the function.</p>
    <p>If the object is not specified, functions in strict mode will return undefined and functions in normal mode will return the global object (window):</p>

    <script>
        "use strict";
        function myFunction() {
          alert(this);
        }
        myFunction();
    </script>

    <h2>Future Proof!</h2>

    <p>Keywords reserved for future JavaScript versions can NOT be used as variable names in strict mode.</p>

    <p>These are:</p>

    <ul>
        <li>implements</li>
        <li>interface</li>
        <li>let</li>
        <li>package</li>
        <li>private</li>
        <li>protected</li>
        <li>public</li>
        <li>static</li>
        <li>yield</li>
    </ul>

    <script>
        "use strict";
        var public = 1500;   // This will cause an error 
    </script>

    <h2 style="background-color: pink; width: 500px;">Watch Out!</h2>

    <p style="background-color: pink; width: 500px;">The "use strict" directive is only recognized at the beginning of a script or a function.</p>

</body>
</html>